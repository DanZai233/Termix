# 🔧 Termix 配置文件说明

## 📁 配置文件结构

```
config/
├── ingredients.json    # 材料配置
├── recipes.json       # 配方配置
├── game_config.json   # 游戏设置
└── user_config.json   # 用户自定义配置（可选）
```

## 🧪 材料配置 (ingredients.json)

### 文件格式
```json
{
  "ingredients": [
    {
      "name": "材料名称",
      "type": "材料类型",
      "color": "颜色",
      "flavor_profile": ["风味1", "风味2"],
      "alcohol_content": 酒精度数字,
      "emoji": "表情符号",
      "description": "材料描述"
    }
  ]
}
```

### 材料类型
- `BASE_SPIRIT` - 基酒（如朗姆酒、伏特加）
- `LIQUEUR` - 利口酒（如君度橙酒、咖啡利口酒）
- `MIXER` - 调和剂（如果汁、糖浆、苏打水）
- `GARNISH` - 装饰（如薄荷叶、柠檬片）
- `ICE` - 冰块（如标准冰块、碎冰）

### 示例材料
```json
{
  "name": "白朗姆酒",
  "type": "BASE_SPIRIT",
  "color": "clear",
  "flavor_profile": ["甜", "热带"],
  "alcohol_content": 40.0,
  "emoji": "🥃",
  "description": "来自加勒比海的经典基酒"
}
```

## 🍹 配方配置 (recipes.json)

### 文件格式
```json
{
  "recipes": [
    {
      "name": "配方名称",
      "category": "配方分类",
      "ingredients": {
        "材料名称1": 用量数字,
        "材料名称2": 用量数字
      },
      "description": "配方描述",
      "difficulty": 难度等级(1-5),
      "emoji": "表情符号",
      "flavor_tags": ["风味标签1", "风味标签2"]
    }
  ]
}
```

### 配方分类建议
- `经典系列` - 传统经典鸡尾酒
- `热带系列` - 热带风味鸡尾酒
- `果味系列` - 果味鸡尾酒
- `咖啡系列` - 咖啡味鸡尾酒
- `创意系列` - 创新鸡尾酒

### 示例配方
```json
{
  "name": "莫吉托",
  "category": "经典系列",
  "ingredients": {
    "白朗姆酒": 50,
    "青柠汁": 20,
    "糖浆": 15,
    "薄荷叶": 8,
    "苏打水": 100,
    "冰块": 150
  },
  "description": "古巴经典鸡尾酒，清爽怡人",
  "difficulty": 2,
  "emoji": "🍃",
  "flavor_tags": ["清爽", "薄荷", "热带"]
}
```

## ⚙️ 游戏配置 (game_config.json)

### 文件格式
```json
{
  "game_settings": {
    "initial_unlocked_recipes": ["配方1", "配方2"],
    "difficulty_levels": {
      "1": "简单",
      "2": "容易",
      "3": "中等",
      "4": "困难",
      "5": "专家"
    },
    "scoring": {
      "perfect_score": 100,
      "missing_ingredient_penalty": 20,
      "major_deviation_penalty": 15,
      "minor_deviation_penalty": 8,
      "extra_ingredient_penalty": 10,
      "deviation_tolerance": {
        "minor": 0.2,
        "major": 0.5
      }
    },
    "free_mixing": {
      "base_score": 50,
      "base_spirit_bonus": 20,
      "mixer_bonus": 15,
      "garnish_bonus": 10,
      "optimal_ingredient_count": {
        "min": 3,
        "max": 6
      },
      "complexity_penalty": 5
    }
  },
  "ui_settings": {
    "items_per_page": 6,
    "auto_layout_threshold": 100,
    "animation_duration": 1.5,
    "scroll_speed": 3
  },
  "character_settings": {
    "default_mood": "happy",
    "animation_frames": 6,
    "dialogue_categories": ["greeting", "working", "success", "encouragement"]
  }
}
```

## 🛠️ 配置管理工具

### 使用配置管理器
```bash
# 启动交互式配置管理器
python config_manager.py

# 查看帮助
python config_manager.py --help
```

### 配置管理器功能
1. **查看当前配置** - 显示材料和配方统计
2. **验证配置文件** - 检查配置文件格式是否正确
3. **创建示例配置** - 生成示例配置文件
4. **添加新材料** - 交互式添加新的调酒材料
5. **添加新配方** - 交互式添加新的鸡尾酒配方

## 📝 自定义配置指南

### 添加新材料
1. 编辑 `config/ingredients.json`
2. 在 `ingredients` 数组中添加新材料对象
3. 确保所有必需字段都已填写
4. 保存文件并重启游戏

### 添加新配方
1. 编辑 `config/recipes.json`
2. 在 `recipes` 数组中添加新配方对象
3. 确保使用的材料在 `ingredients.json` 中存在
4. 保存文件并重启游戏

### 调整游戏设置
1. 编辑 `config/game_config.json`
2. 修改相应的设置参数
3. 保存文件并重启游戏

## ⚠️ 注意事项

### 文件格式要求
- 使用UTF-8编码保存文件
- JSON格式必须正确（注意逗号和引号）
- 材料名称必须在配方中准确匹配

### 数据验证
- 酒精度必须是数字（0-100）
- 难度等级必须是1-5的整数
- 材料用量必须是正数
- 配方中使用的材料必须在材料列表中存在

### 备份建议
- 修改配置文件前建议备份原文件
- 可以使用配置管理器的验证功能检查格式
- 如果配置文件损坏，游戏会自动使用内置默认配置

## 🎯 配置技巧

### 平衡性调整
- 调整评分参数来改变游戏难度
- 修改初始解锁配方来控制游戏进度
- 调整界面参数来优化用户体验

### 内容扩展
- 添加季节性特殊材料
- 创建主题配方系列
- 设计不同难度的挑战配方

### 本地化支持
- 配置文件支持中文和其他语言
- 可以创建多语言版本的配置文件
- 表情符号增加视觉吸引力

## 🔄 配置重载

游戏启动时会自动加载配置文件。如果需要重载配置：
1. 修改配置文件
2. 重启游戏应用
3. 新配置将自动生效

配置文件的外置设计让Termix具有了极强的可扩展性和自定义能力！🍸✨
